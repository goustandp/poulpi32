# Makefile automatically generated by ghdl
# Version: GHDL 0.37-dev (v0.36-1542-ga4fdd199) [Dunoon edition] - mcode code generator
# Command used to generate this makefile:
# ghdl --gen-makefile bench_poulpi32

SIMTIME= 2000us
GHDL=ghdl
GHDLFLAGS=
GHDLRUNFLAGS=--wave=./sim/toto.ghw --stop-time=$(SIMTIME)


# Default target : elaborate
all : run
	gtkwave ./sim/toto.ghw

# Elaborate target.  Almost useless
elab : init
	$(GHDL) -c $(GHDLFLAGS) -e bench_poulpi32

# Run target
run : elab
	$(GHDL) -c $(GHDLFLAGS) -r bench_poulpi32 $(GHDLRUNFLAGS)

# Targets to analyze libraries
init: 
	# $(HOME)/.local/lib/ghdl/ieee/v93/../../src/ieee/v93/std_logic_1164.vhdl
	# $(HOME)/.local/lib/ghdl/ieee/v93/../../src/ieee/v93/std_logic_1164-body.vhdl
	$(GHDL) -a $(GHDLFLAGS) poulpi32/poulpi32_pkg.vhd
	# $(HOME)/.local/lib/ghdl/ieee/v93/../../src/ieee/v93/numeric_std.vhdl
	# $(HOME)/.local/lib/ghdl/ieee/v93/../../src/ieee/v93/numeric_std-body.vhdl
	# $(HOME)/.local/lib/ghdl/std/v93/../../src/std/v93/textio.vhdl
	# $(HOME)/.local/lib/ghdl/std/v93/../../src/std/v93/textio-body.vhdl
	$(GHDL) -a $(GHDLFLAGS) ./bench/bench_poulpi32.vhd
	$(GHDL) -a $(GHDLFLAGS) poulpi32/poulpi32_core.vhd
	$(GHDL) -a $(GHDLFLAGS) axi_utils/axi_bram.vhd
	$(GHDL) -a $(GHDLFLAGS) poulpi32/poulpi32_decode.vhd
	$(GHDL) -a $(GHDLFLAGS) poulpi32/poulpi32_reg.vhd
	$(GHDL) -a $(GHDLFLAGS) poulpi32/poulpi32_load_store.vhd
	$(GHDL) -a $(GHDLFLAGS) poulpi32/poulpi32_branch.vhd
	$(GHDL) -a $(GHDLFLAGS) poulpi32/poulpi32_fetch.vhd
	$(GHDL) -a $(GHDLFLAGS) poulpi32/poulpi32_mux.vhd
	$(GHDL) -a $(GHDLFLAGS) poulpi32/poulpi32_alu.vhd


